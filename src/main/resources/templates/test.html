<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org">
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We"
          crossorigin="anonymous">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="_csrf" th:content="${_csrf.token}" id="csrf"/>
    <meta name="_csrf_header" th:content="${_csrf.headerName}" id="csrf_header"/>
    <title>Title</title>
</head>
<body>
<div class="d-flex vh-100 bg-secondary">
    <div class="card col-3 border-0 rounded-0 bg-dark ">
        <div class="card-header bg-transparent ">
            <div class="row">
                <div class="col-2">
                    <button type="button" class="btn btn-dark btn-sm">
                        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="32" fill="#ffff"  class="bi bi-box-arrow-left" viewBox="0 0 16 16">
                            <path fill-rule="evenodd" d="M6 12.5a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 1-1 0v-2A1.5 1.5 0 0 1 6.5 2h8A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 5 12.5v-2a.5.5 0 0 1 1 0v2z"/>
                            <path fill-rule="evenodd" d="M.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L1.707 7.5H10.5a.5.5 0 0 1 0 1H1.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
                        </svg>
                    </button>
                </div>
                <div class="col-2">
                    <button type="button" class="btn btn-dark btn-sm">
                        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="32" fill="#ffff" class="bi bi-person-circle" viewBox="0 0 16 16">
                            <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
                            <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>
                        </svg>
                    </button>
                </div>
                <div class="col">
                    <input type="search" class="form-control" id="searchInput" placeholder="Search">
                </div>
            </div>
        </div>
        <div id="chats-list" class="card-body overflow-auto p-0" >
            <button type="button" class="btn btn-primary rounded-0 p-2 container-fluid chat-button" data-bs-toggle="modal" data-bs-target="#new-chat-modal">
                <div class="row align-items-center">
                    <div class="col-1">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-plus-square" viewBox="0 0 16 16">
                            <path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
                            <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                        </svg>
                    </div>
                    <div class="text-start col ">Create new chat</div>
                </div>
            </button>
            <button onclick="getTopicFromUserID(' + user.id + ')" type="button" class="btn btn-dark p-3 container-fluid chat-button">
                <div class="row align-items-center">
                    <div class="col-3 p-0 d-flex justify-content-center">
                        <div class="col-">
                            <span id="user-user.id" class="position-absolute p-2 bg-success border border-light rounded-circle invisible"></span>
                        </div>
                        <img src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8cG9ydHJhaXR8ZW58MHx8MHx8&ixlib=rb-1.2.1&w=1000&q=80"
                        class="img-fluid rounded-circle border border-light"
                        alt="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8cG9ydHJhaXR8ZW58MHx8MHx8&ixlib=rb-1.2.1&w=1000&q=80"
                        style="width: 60px; height: 60px;">
                    </div>
                    <div class="col-9 text-light">
                        <h6 align="left" class="card-title text-white">
                            user.firstname  user.lastname
                        </h6>
                        <div class="row">
                            <div class="col-9">
                                <p align="left" class="card-text text-white text-muted text-truncate">
                                    user.email
                                </p>
                            </div>
                            <div class="col-3 invisible" id="span-container-user-user.id">
                                <span class="badge rounded-pill bg-danger" id="span-context-user-user.id">
                                    99+
                                    <span class="visually-hidden">unread messages</span>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </button>

        </div>
    </div>
    <div class="card col  border-0 rounded-0 bg-secondary" id="content-block">
        <div class="card-header bg-light">
            <div class="row">
                <div class="col">
                    <h5 class="card-title" id="content-header">Card title</h5>
                </div>
                <!-- Example single danger button -->
                <div class="btn-group col-2">
                    <button type="button" class="btn btn-danger dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                        Action
                    </button>
                    <ul class="dropdown-menu">
    <!--                    <li><a class="dropdown-item" href="#">Action</a></li>-->
    <!--                    <li><a class="dropdown-item" href="#">Another action</a></li>-->
    <!--                    <li><a class="dropdown-item" href="#">Something else here</a></li>-->
    <!--                    <li><hr class="dropdown-divider"></li>-->
                        <li><a class="dropdown-item" href="#" onclick="unsubscribeAtCurrentTopic()">Unsubscribe</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="card-body bg-secondary overflow-auto" id="scroll-content-body">
<!--            <div class="card-group row-cols-1" id="content-body">-->

                <div class="d-flex justify-content-start mb-3">
                    <div class="card col-8">
                        <div class="card-body py-2">
                            <div>
                                This is some text within a card body.
                            </div>
                            <div class="text-end text-muted">22:15</div>
                        </div>
                    </div>
                </div>

                <div class="d-flex justify-content-end mb-3">
                    <div class="card col-8 ">
                        <div class="card-body py-2">
                            <div>
                                Some quick example text to build on the card title and make up the bulk of the card's content.
                                Some quick example text to build on the card title and make up the bulk of the card's content.
                            </div>
                            <div class="text-end text-muted">22:15</div>
                        </div>
                    </div>
                </div>

                <div class="d-flex justify-content-center mb-3">
                    <div class="card border-light bg-transparent">
                        <div class="card-body py-2">
                            <div class="text-light">
                                15-05-2025
                            </div>
                        </div>
                    </div>
                </div>




<!--            </div>-->
        </div>
        <div class="card-footer bg-light">
            <form id="message-form" name="message-form">
                <div class="row">
                    <div class="col-10">
                        <input class="form-control" aria-label="With textarea" id="message" placeholder=""></input>
                    </div>
                    <div class="col-2">
                        <button type="submit" class="btn btn-primary col-11">Send</button>
                    </div>
                </div>
            </form>
        </div>
    </div>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.1.4/sockjs.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>
<script src="/js/main.js"></script>
</body>
</html>